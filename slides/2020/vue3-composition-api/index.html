<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Hovercraft! demo</title><meta charset="UTF-8"></meta><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="assets/presentation.css" media="screen,projection"></link><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        TeX : { extensions : ['color.js'] }
      });
    </script></head><body class="impress-not-supported"><div id="impress" data-transition-duration="500"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="vue3-composition-api">Vue3 Composition API</h1><h2 id="what-s-all-the-fuzz">What's all the fuzz?</h2><div class="notes"><p>Welcome to the presenter console!</p></div></div><div class="step step-level-1" step="1" id="Slide__AboutMe" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="about-me">About me</h1><figure><img src="assets/norman.jpg"></img></figure><ul><li>Norman</li><li>Full-Stack developer and consultant at Wunderdog (Ask me about jobs &#x1F609;)</li><li>Uses Vue.js as the weapon of choice since before it was cool</li><li>Organises the Vuejs//Berlin Meetup</li></ul><div class="notes"><p>Wunderdog: Consultancy, cool place
Vuejs before it was cool: that is before v2</p></div></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="so-what-s-the-fuzz-about">So what's the fuzz about?</h1><ul><li>What makes the Composition API cool</li><li>What are those Reactive References</li><li>How do methods and computed props work?</li><li>What's this <em>reactive</em> function about?</li></ul><div class="notes"><p>Any notes?</p></div></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="what-s-cool-about-the-composition-api">What's cool about the Composition API?</h1><p>For this, we need to talk about the limitations of Vue2:</p><ul><li>BigcComponents get less readable</li><li>Current ways to reuse code have drawbacks</li></ul></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="id1">&#x1F622;</h1></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><h1 id="readability-issues">Readability issues</h1><ul><li>Large components become hard to read because functionalities are spread all over different parts.</li><li>Code cannot be organised by logical concerns</li></ul><div class="notes"><p>New functionalities usually impact mutliple places like data, methods, computed properties, etc.
This spreads all the pieces all over the component.
It would be nicer to be able to organise things by logical concerns</p></div></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><h1 id="but-what-about-mixins">But what about Mixins?</h1><p>Oh no, he said the M-Word!</p></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><h1 id="current-ways-of-code-reuse">Current ways of code reuse</h1><ul><li>Mixins</li><li>Mixin Factories</li><li>Scoped Slots</li></ul><div class="notes"><p>notes?</p></div></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><h1 id="mixins">Mixins</h1><p>&#x2705; Organised by logical concerns</p><p>&#x274C; Prone to cause conflicts</p><p>&#x274C; Relationships are shady</p><p>&#x274C; Reusability is very limited</p><p>&#x274C; Implicit Property additions</p><p>&#x274C; No access to <em>this</em></p><div class="notes"><p>The M-Word again?!</p></div></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="mixin-factories">Mixin Factories</h1><p>&#x2705; (still) Organised by logical concerns</p><p>&#x2705; Easily reusable</p><p>&#x2705; Clearer relationships</p><p>&#x274C; Namespacing works but is hard</p><p>&#x274C; Implicit Property additions</p><p>&#x274C; Still no access to <em>this</em></p><div class="notes"><p>Explain the difference to Mixins:
Functions (factories) that create namespaced mixins to avoid conflicts
and to make relationships more clear
Namespacing is hard because it requires stricter conventions</p></div></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="scoped-slots">Scoped Slots</h1><p>&#x2705; Organised by logical concerns</p><p>&#x2705; Solves most of the issues with Mixins</p><p>&#x274C; Moves configuration into template</p><p>&#x274C; Hard to reach from the code</p><p>&#x274C; Performance might become an issue (because more components)</p><div class="notes"><p>Any notes?</p></div></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="id2">&#x1F62D;</h1></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="composition-api-benefits">Composition API benefits</h1><p>&#x2705; the config is now in our component code</p><p>&#x2705; Solves all of the issues with Mixins</p><pre class="highlight code javascript"><span class="kr">import</span> <span class="nx">useCoolStuff</span> <span class="nx">from</span> <span class="s1">'@my/cool-stuff'</span>
<span class="kr">import</span> <span class="nx">useFunctionality</span> <span class="nx">from</span> <span class="s1">'@my/functionality'</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">coolStuff</span> <span class="o">=</span> <span class="nx">useCoolStuff</span><span class="p">({</span><span class="cm">/* config */</span><span class="p">})</span>
    <span class="kr">const</span> <span class="nx">actualStuff</span> <span class="o">=</span> <span class="nx">useFunctionality</span><span class="p">({</span><span class="cm">/* config */</span><span class="p">})</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">coolStuff</span><span class="p">,</span> <span class="nx">actualStuff</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></pre></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="id3">Composition API benefits</h1><p>&#x2705; It's just a function that provides the scope for the template</p><pre class="highlight code html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello {{ toWhom }}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">toWhom</span><span class="o">:</span> <span class="s2">"World"</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></pre></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="composition-api">Composition API</h1><p>Okay, better make this reactive</p><pre class="highlight code html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello {{ toWhom }}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'vue'</span>

  <span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">toWhom</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span> <span class="c1">// reactive string
</span>      <span class="k">return</span> <span class="p">{</span> <span class="nx">toWhom</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></pre></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="id4">Composition API</h1><p>Lets add an input field:</p><pre class="highlight code html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello {{ toWhom }}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">"toWhom"</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'vue'</span>

  <span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">toWhom</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">toWhom</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></pre><p><a href="https://codesandbox.io/s/relaxed-hypatia-fklzp" target="_blank">edit in codesandbox</a></p></div><div class="step step-level-1" step="16" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25600" data-y="0" data-z="0"><h1 id="id5">Composition API</h1><p>But this should be a computed value!</p><pre class="highlight code html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ greeting }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">"toWhom"</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'vue'</span>

  <span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">toWhom</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
      <span class="kr">const</span> <span class="nx">greetung</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="sb">`Hello </span><span class="si">${</span><span class="nx">toWhom</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">!`</span><span class="p">)</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">toWhom</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></pre><p><a href="https://codesandbox.io/s/happy-rhodes-ony3j" target="_blank">edit in codesandbox</a></p></div><div class="step step-level-1" step="17" id="Slide__Police" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27200" data-y="0" data-z="0"><h1 id="id6">Composition API</h1><p>Watching and Methods</p><pre class="highlight code html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ greeting }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">"toWhom"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">v-if</span><span class="o">=</span><span class="s">"danger"</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">"callPolice"</span><span class="p">&gt;</span>Call Police<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">watch</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"@vue/composition-api"</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">toWhom</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="s2">"World"</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">danger</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="sb">`Hello </span><span class="si">${</span><span class="nx">toWhom</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb">!`</span><span class="p">);</span>

    <span class="kr">const</span> <span class="nx">callPolice</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Bad name detected. Police is informed!"</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="kr">const</span> <span class="nx">nameWatcher</span> <span class="o">=</span> <span class="nx">watch</span><span class="p">(</span><span class="nx">toWhom</span><span class="p">,</span> <span class="nx">newName</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">newName</span> <span class="o">===</span> <span class="s2">"bad"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">danger</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">toWhom</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">"good"</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">toWhom</span><span class="p">,</span> <span class="nx">greeting</span><span class="p">,</span> <span class="nx">danger</span><span class="p">,</span> <span class="nx">callPolice</span> <span class="p">};</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></pre><p><a href="https://codesandbox.io/s/heuristic-wave-jok2s" target="_blank">edit in codesandbox</a></p></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="28800" data-y="0" data-z="0"><h1 id="so-is-that-how-things-work-now">So is that how things work now?</h1></div><div class="step step-level-1" step="19" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="30400" data-y="0" data-z="0"><h1 id="jain">Jain!</h1></div><div class="step step-level-1" step="20" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="32000" data-y="0" data-z="0"><h1 id="optional-but-advanced">Optional, but advanced</h1><ul><li>Completely optional</li><li>The options syntax is still possible</li><li>...and will still be the common way</li><li>new syntax is especially interesting for library authors</li></ul><p>In Vue3 the composition API is the underlying technology and the component syntax builds on top of it.</p></div><div class="step step-level-1" step="21" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="33600" data-y="0" data-z="0"><h1 id="when-to-use-the-composition-api">When to use the Composition API</h1><ul><li>a component grows due to a mix of functionalities</li><li>code can be reused</li><li>there are a couple of very similar, but yet not quite the same&#x2122; components</li><li>Typescript!</li></ul></div><div class="step step-level-1" step="22" id="Slide__ThankYou" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="35200" data-y="0" data-z="0"><h1 id="thank-you">Thank you!</h1><p>twitter: <a href="https://twitter.com/koehr_in">@koehr_in</a></p><p>blog: <a href="https://koehr.tech">https://koehr.tech</a></p><p>slides: <a href="https://koehr.in/slides/2020/vue3-composition-api">https://koehr.in/slides/2020/vue3-composition-api</a></p></div></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/gotoSlide.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>